{{>partial_admin_nav}}
<section class="admin protected container">
    <h3>Programacion <a class="fnt-12 backBtn" href="/admin/dashboard">Atras</a></h3>
    <button @click="saving || save()" :disabled="saving" class="btn" v-html="saving?'Guardando...':'Guardar'"></button>
    <button @click="showForm=true" v-show="!showForm" class="btn" >Nuevo evento</button>
    <div class="form programacionForm" v-show="showForm">
        <label class="important">Nuevo evento</label>
        <label>Fecha *</label>
        <input placeholder="DD-MM-YYYY" v-model="form.fecha"/>
        <label>Titulo *</label>
        <input v-model="form.title" placeholder="Ejemplo: Feria de los artesanos" />
        <button class="btn" @click="addEvent()">Agregar</button>
    </div>
    <ul class="list">
        <li class="programationItem" v-for="item in programacion" v-show="showProgramacion(item)">
            <h3 v-html="item.fecha"></h3>
            <div>
                <div class="eventItem form" v-for="evento in item.eventos" >
                    <div class="desktopSplitTwo">
                        <div class="adminProgramacionItemImage">
                            <img class="img-fluid" :src="evento.image||'https://via.placeholder.com/150x150'"/>
                        </div>
                        <div>
                            <div>
                              <input class="eventoTitle semless bold" v-model="evento.title"></input>
                            </div>
                            <div>
                              <textarea class="text" v-model="evento.message"></textarea>
                            </div>
                            <p class="fnt-12 italic" v-html="evento.time"></p>
                            <div class="blockChilds">
                                <label>Mostrar</label>
                                <input type="checkbox" v-model="evento.show" />
                            </div>
                            <div class="blockChilds">
                              <label>Imagen</label>
                              <input v-model="evento.image"/>
                            </div>
                            <div class="blockChilds">
                              <label>Hora</label>
                              <input v-model="evento.time" placeholder="HH:mm" />
                            </div>
                            <div >
                                <button @click="remove(evento.id)" class="btn danger"><i class="fas fa-trash-alt"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
        </li>
    </ul>
</section>
<script type="text/javascript">
window.programacion = JSON.parse(`{{#stringify programacion}}{{/stringify}}`);
</script>